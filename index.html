<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Ember Starter Kit</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">

    <script type="text/x-handlebars" data-template-name="panel">

    </script>

    <script type="text/x-handlebars" data-template-name="_text-preview">
        <input type="text">
    </script>

    <script type="text/x-handlebars" data-template-name="_textarea-preview">
        <textarea></textarea>
    </script>

    <script type="text/x-handlebars" data-template-name="_checkbox-preview">
    </script>

    <script type="text/x-handlebars" data-template-name="_hidden-preview">

    </script>

    <script type="text/x-handlebars" data-template-name="_dropdown-preview">
        {{view Ember.Select
            content=model.options
            optionLabelPath="content.name"}}
    </script>

    <script type="text/x-handlebars" data-template-name="_radio-preview">
        <table><tbody>
            {{#each option in model.options}}
                <tr><td>
                    <label><input type="radio" {{bind-attr name=model.display_order}} /> {{option.name}} </label>
                </td></tr>
            {{/each}}
        </tbody></table>
    </script>

    <script type="text/x-handlebars" data-template-name="_multi_checkbox-preview">
        <table><tbody>
            {{#each option in model.options}}
                <tr><td>
                    <label><input type="checkbox" /> {{option.name}} </label>
                </td></tr>
            {{/each}}
        </tbody></table>
    </script>

    <script type="text/x-handlebars" data-template-name="_static-preview">
        <!-- empty placeholder -->
    </script>

    <script type="text/x-handlebars" data-template-name="_formfield">
        <div class="bsd-formbuilder">
            <div class="head">
                <div class="field-number">{{order}}</div>
                {{model.type}} – {{typeName}} – {{supertypeName}}
                {{#unless editable}}<button class="edit" {{action 'edit'}}>Edit</button>{{/unless}}
                <button class="delete" {{action 'delete'}}>Delete</button>
            </div>
            {{#if editable}}
                {{#if showTypeLine}}
                    <div class="type-line">
                        {{#if hasTypeOptions}}
                            {{view Ember.Select
                               content=typeOptions
                               optionValuePath="content.value"
                               optionLabelPath="content.label"
                               value=model.type}}
                        {{/if}}
                    </div>
                {{/if}}
                {{#if showHtmlEditor}}
                    <div class="html-editor"><textarea></textarea></div>
                {{/if}}
                <div class="field-label">{{input placeholder="Enter field label" value=model.name}}</div>
                <div class=s">
                    {{#if isSingleCheckbox}}
                        {{view 'formbuilder-field'}}
                        {{view 'formbuilder-field'}}
                    {{/if}}
                    {{#if isMultipleOptions}}
                        {{#each option in model.options}}
                            <p>{{input placeholder="Enter option name" value=option.name}}</p>
                        {{/each}}
                        <button {{action 'addOption'}}>Add Option</button>
                    {{/if}}
                </div>
                <div>
                    <button {{action 'doneEdit'}}>Finished Editing</button>
                </div>
            {{else}}
                {{#if showHtmlEditor}}

                {{/if}}
                <h2>{{model.name}}</h2>
                {{partial previewComponent}}
            {{/if}}
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="fields">
        {{#each}}
            {{partial "formfield"}}
        {{/each}}
    </script>

    <script type="text/x-handlebars" data-template-name="form">
        <button {{action 'logEverything'}}>Log Everything</button>

        {{view Ember.Select
           content=supertypeOptions
           optionValuePath="content.value"
           optionLabelPath="content.label"
           value=selectedSupertype
           prompt="Select a field type"}}

        <button {{action "addField"}} {{bind-attr disabled=noSelectedSupertype}}>Add Field</button>

        {{render "fields" fields}}
    </script>
</head>
<body>

<script type="xxx" id="notes and shit">

<!--
inside of form template
        {{thing}} s {{model.name}} {{model.app_form_fields.0.type}}  {{model.name}}
        {{#each field in model.app_form_fields}}
            {{field.type}} – {{field.name}}
        {{/each}}

  <p>      --- almost to fields</p>
-->
    <ul>
        {{#each item in model}}
            <li>{{item}}</li>
        {{/each}}
    </ul>
    {{view "select"
               content=supertypeOptionLabels
               }}

    {{view "select"
       content=programmers
       optionValuePath="content.id"
       optionLabelPath="content.firstName"
       value=currentProgrammer.id}}

</script>



<table><tr><td>

    <script type="text/x-handlebars">
        {{outlet form}}
    </script>

</td></tr></table>

<script>
    // This prevents ember from extending prototypes of primitives like [] and function().
    // Useful and pretty, but not worth the headaches it will cause with other js stuff we have.
    window.ENV = {};
    ENV.EXTEND_PROTOTYPES = false;
</script>
<script src="js/libs/jquery-1.10.2.js"></script>
<script src="js/libs/handlebars-1.1.2.js"></script>
<script src="js/libs/ember-1.7.0.js"></script>
<script src="js/libs/ember-data-1.0.0-beta.11.js"></script>
<script src="js/app.js"></script>

</body>
</html>
